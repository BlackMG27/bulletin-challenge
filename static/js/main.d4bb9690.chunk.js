(this["webpackJsonpbulletin-challenge"]=this["webpackJsonpbulletin-challenge"]||[]).push([[0],{53:function(e,t,s){},54:function(e,t,s){"use strict";s.r(t);var a=s(2),n=s.n(a),r=s(14),c=s.n(r),i=s(15),l=s(3),o=s(16),u=s(17),h=s(21),m=s(20),d=s(18),j=(s(30),s(31),s(4)),f=s.n(j),b=function(e){return f.a.get("https://api.openweathermap.org/data/2.5/weather?zip=".concat(e,"&appid=fa56bfa56d667c9243a012b42283ad11"))},_=function(e){return f.a.get("https://api.openweathermap.org/data/2.5/forecast?zip=".concat(e,"&appid=fa56bfa56d667c9243a012b42283ad11"))},p=s(19),x=s.n(p),O=s(0),g=function(e){var t=e.date,s=t.high,n=t.low,r=t.rain,c=t.index,i=function(e){return(e=1.8*(e-273)+32).toFixed(1)},l=new Date;return Object(O.jsx)(a.Fragment,{children:Object(O.jsxs)("article",{className:"results__forecast-article",role:"listitem",children:[Object(O.jsx)("div",{className:"results__forecast-article-date",role:"contentinfo",children:Object(O.jsx)("h2",{className:"results__forecast-article-date-title",children:Object(O.jsx)(x.a,{add:{days:c+1},format:"MM/DD",children:l})})}),Object(O.jsxs)("div",{className:"results__forecast-article-weather",role:"contentinfo",children:[Object(O.jsxs)("h5",{className:"results__forecast-article-weather-info",children:["High: ",i(s),"\xb0F"]}),Object(O.jsxs)("h5",{className:"results__forecast-article-weather-info",children:["Low: ",i(n),"\xb0F"]})]}),Object(O.jsxs)("div",{className:"results__forecast-article-rain",children:[Object(O.jsx)("h5",{className:"results__forecast-article-rain-info",children:"Will It Rain?"}),r?Object(O.jsx)("p",{className:"results__forecast-article-rain-info-a",children:"Get an Umbrella"}):Object(O.jsx)("p",{className:"results__forecast-article-weather-info-a",children:"You're Fine"})]})]})})},N=function(e){Object(h.a)(s,e);var t=Object(m.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).fetchCurrentWeather=function(t){b(t).then((function(t){e.setState({today:t.data,status:t.status,submitted:!0})})).catch((function(e){return console.log(e)}))},e.fetchForecast=function(t){_(t).then((function(t){e.setState({forecast:t.data.list,status:t.status,submitted:!0})})).catch((function(e){return console.log(e)}))},e.makeRequest=function(){},e.handleChange=function(t){var s=t.target,a=s.value,n=s.name;e.setState(Object(l.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),e.setState(Object(i.a)({},e.state)),e.fetchCurrentWeather(e.state.zip),e.fetchForecast(e.state.zip)},e.state={zip:"",today:[],forecast:[],submitted:!1,status:"",isLoading:!1,night:!1},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.fetchCurrentWeather(),this.fetchForecast()}},{key:"render",value:function(){var e,t,s,n,r,c,i=this,l=this.state.submitted,o=parseInt(this.state.status),u=function(e){return(e=1.8*(e-273)+32).toFixed(1)},h=this.state.today,m=new Intl.DateTimeFormat("en-US",{weekday:"short",day:"numeric",month:"short",year:"numeric",timezone:"UTC"}).format(new Date),j=[];e=this.state.forecast.reduce((function(e,t){return e[t.dt_txt.substring(0,10)]?e[t.dt_txt.substring(0,10)].push(t):e[t.dt_txt.substring(0,10)]=[t],e}),{}),t=Object.values(e);for(var f=0;f<t.length;f++)s=t[f].reduce((function(e,t){return e.main.temp_max>t.main.temp_max?e:t})),n=t[f].reduce((function(e,t){return e.main.temp_min<t.main.temp_min?e:t})),r=function(e){return e.hasOwnProperty("rain")},c=t[f].some(r),j.push({high:s.main.temp_max,low:n.main.temp_min,rain:c,index:f});return Object(O.jsxs)(a.Fragment,{children:[Object(O.jsx)("section",{className:"search",children:Object(O.jsxs)("form",{onSubmit:this.handleSubmit,className:"search__form",children:[Object(O.jsx)("label",{htmlFor:"searchBar",className:"search__form-label",children:"Search by US Zip Code"}),Object(O.jsx)("input",{type:"text",maxLength:"5",placeholder:"Example: 11221",className:"search__form-input",value:this.state.zip,name:"zip",onChange:this.handleChange,onKeyPress:function(e){"Enter"===e.key&&i.handleSubmit(e)},onFocus:function(e){/(^\d{5}$)/.test(e)},id:"searchBar"}),Object(O.jsx)("button",{className:"search__form-button",type:"submit",children:"Show Me the Weather"})]})}),Object(O.jsx)("section",{className:"status-error",children:404===o?Object(O.jsx)("h2",{className:"status-error__message",children:"Please Try Again"}):null}),l?Object(O.jsxs)("section",{className:"results",children:[Object(O.jsxs)("h1",{className:"results__title",children:[h.name,", ",h.sys.country]}),Object(O.jsx)("h2",{className:"results__date",children:m}),Object(O.jsxs)("div",{className:"results__info",role:"group",children:[Object(O.jsxs)("aside",{className:"results__current",children:[Object(O.jsxs)("h3",{className:"results__current-temp",children:["Temp: ",u(h.main.temp)," \xb0F"]}),Object(O.jsxs)("h4",{className:"results__current-feels",children:["Feels Like: ",u(h.main.feels_like),"\xb0F"]}),Object(O.jsxs)("div",{className:"results__current-weather",children:[Object(O.jsx)(d.WeatherIcon,{iconId:h.weather[0].id,name:"owm",className:"results__current-weather-icon",alt:h.weather[0].description,night:!0}),Object(O.jsxs)("p",{className:"results__current-weather-info",children:["Current Outlook: ",h.weather[0].description]})]}),Object(O.jsxs)("p",{className:"results__current-high",children:["High: ",u(h.main.temp_max),"\xb0F"]}),Object(O.jsxs)("p",{className:"results__current-low",children:["Low: ",u(h.main.temp_min),"\xb0F"]})]}),Object(O.jsx)("main",{className:"results__forecast",role:"list",children:j.map((function(e,t){return Object(O.jsx)(g,{date:e},t)}))})]})]}):null]})}}]),s}(a.Component);s(53);var w=function(){return Object(O.jsxs)(a.Fragment,{children:[Object(O.jsx)("h1",{className:"app__title",children:"Weather App"}),Object(O.jsx)(N,{})]})},F=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,55)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;s(e),a(e),n(e),r(e),c(e)}))};c.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root")),F()}},[[54,1,2]]]);
//# sourceMappingURL=main.d4bb9690.chunk.js.map